CREATE TABLE users (
    user_id INTEGER PRIMARY KEY,
    first_name TEXT NOT NULL,
    last_name TEXT NOT NULL,
    email TEXT NOT NULL
);

CREATE TABLE its_members (
    its_id INTEGER PRIMARY KEY,
    first_name TEXT NOT NULL,
    last_name TEXT NOT NULL,
    email TEXT NOT NULL
);

CREATE TABLE tickets (
    ticket_id INTEGER PRIMARY KEY,
    os_type TEXT NOT NULL,
    primary_issue TEXT NOT NULL,
    additional_notes TEXT NOT NULL,
    status TEXT NOT NULL,
    submitter_id INT NOT NULL,
    FOREIGN KEY (submitter_id) REFERENCES users(user_id)
);

CREATE TABLE comments (
    comment_id INTEGER PRIMARY KEY,
    comment_text TEXT NOT NULL
);

CREATE TABLE ticket_comments (
    id INTEGER PRIMARY KEY,
    ticket_id INT NOT NULL,
    comment_id INT NOT NULL,
    FOREIGN KEY (ticket_id) REFERENCES tickets(ticket_id),
    FOREIGN KEY(comment_id) REFERENCES comments(comment_id)
);

CREATE TABLE its_comments (
    id INTEGER PRIMARY KEY,
    comment_id INT NOT NULL,
    its_id INT NOT NULL,
    FOREIGN KEY (comment_id) REFERENCES comments(comment_id),
    FOREIGN KEY (its_id) REFERENCES its_members(its_id)
);


